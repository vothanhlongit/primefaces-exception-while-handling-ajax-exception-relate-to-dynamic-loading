<html xmlns="http://www.w3.org/1999/xhtml"
  xmlns:h="http://xmlns.jcp.org/jsf/html"
  xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
  xmlns:p="http://primefaces.org/ui"
  xmlns:local="http://xmlns.jcp.org/jsf/composite/components">
<body>
  <ui:composition>
    <p:ajaxExceptionHandler update="exception-dialog" onexception="PF('exception-dialog').show()" />

    <p:dialog id="exception-dialog" widgetVar="exception-dialog" modal="true" resizable="false" header="Exception details" width="800px" fitViewport="true"
      onShow="#{portalExceptionBean.buildExceptionDialog(exception)}">
      <div>
          <h:outputText value="Stack trace:" />
          <div>
            <h:outputText value="#{pfExceptionHandler.formattedStackTrace}" readonly="true" escape="false" />
          </div>
      </div>
    </p:dialog>

    <h:form />
  </ui:composition>
</body>
</html>